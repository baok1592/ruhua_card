(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2280486c"],{"2d54":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"root",staticStyle:{"background-color":"rgb(243, 243, 243)"}},[o("el-page-header",{attrs:{content:"修改广告"},on:{back:t.goBack}}),o("el-container",[o("el-main",[o("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[o("div",{staticClass:"article"},[o("div",{staticStyle:{height:"20px"}},[t._v(" ")]),[o("el-row",[o("el-col",{attrs:{span:16}},[o("el-form",{attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"广告名称","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.banner_name,callback:function(e){t.$set(t.form,"banner_name",e)},expression:"form.banner_name"}})],1),o("el-form-item",{attrs:{label:"广告位置","label-width":t.formLabelWidth}},[o("el-select",{staticStyle:{width:"100px"},model:{value:t.form.cid,callback:function(e){t.$set(t.form,"cid",e)},expression:"form.cid"}},t._l(t.options,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),o("el-form-item",{attrs:{label:"广告描述","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),o("el-form-item",{attrs:{label:"广告缩略图","label-width":t.formLabelWidth}},[[o("el-image",{staticStyle:{width:"300px",height:"300px"},attrs:{shape:"square",size:100,src:t.form.img_url}}),o("el-upload",{staticClass:"upload-demo",attrs:{action:"http://192.168.0.184:8098/upload_img","list-type":"picture",name:"img","auto-upload":!0,"on-success":t.success,limit:4},model:{value:t.form.img_url,callback:function(e){t.$set(t.form,"img_url",e)},expression:"form.img_url"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)]],2)],1),o("div",{staticClass:"dialog-footer",staticStyle:{position:"absolute",right:"10px",bottom:"20px"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sub_edit("form")}}},[t._v("修 改")])],1)],1)],1)]],2)])],1)],1)],1)},i=[],l={name:"Article",data:function(){return{id:"",formLabelWidth:"120px",form:{id:"",banner_name:"",cid:"",title:"",context:"",img_url:""},options:[{value:1,label:"上半"},{value:2,label:"中部"},{value:3,label:"下半"}]}},components:{},mounted:function(){this.getroute(),this._load()},methods:{goBack:function(){this.$emit("se","second"),this.$router.push({path:"../banner"})},getroute:function(){var t=this.$route.query;this.form.id=this.id=t.id,console.log("id",t.id)},_load:function(){var t=this;this.http.get(this.$api.ad.getonly+this.id).then((function(e){t.form=e.data,console.log("form",t.form)}))},success:function(t){console.log("res",t),this.form.img_url=t.data.url},sub_edit:function(){var t=this;console.log("内容",this.form),this.http.post(this.$api.ad.edit,this.form).then((function(e){console.log(e),t.goBack(),t.$forceUpdate()}))}}},s=l,r=(o("96b8"),o("2877")),n=Object(r["a"])(s,a,i,!1,null,"a29c3810",null);e["default"]=n.exports},3635:function(t,e,o){},"96b8":function(t,e,o){"use strict";o("3635")}}]);